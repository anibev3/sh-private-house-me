<ng-container *ngIf="dataIsOk">
  <main style="margin: -17px">
    <form [formGroup]="updateForm" (ngSubmit)="onSubmitUpdateUser()">
      <div class="mon-padding m10" style="background-color: white">
        <div>
          <h5 class="text-center">
            <strong>Modifiez vos informations</strong>
          </h5>
          <p class="fs14"></p>
          <br />

          <div
            class="mon-padding self-align-center align-items-center justify-content-center"
            style="padding-bottom: 14px"
          >
            <span class="fs14">
              <span>
                <svg
                  class="bk-icon -streamline-info_sign"
                  height="16"
                  role="presentation"
                  width="16"
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                  focusable="false"
                >
                  <path
                    d="M14.25 15.75h-.75a.75.75 0 0 1-.75-.75v-3.75a1.5 1.5 0 0 0-1.5-1.5h-.75a.75.75 0 0 0 0 1.5h.75V15a2.25 2.25 0 0 0 2.25 2.25h.75a.75.75 0 0 0 0-1.5zM11.625 6a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25.75.75 0 0 0 0 1.5.375.375 0 1 1 0-.75.375.375 0 0 1 0 .75.75.75 0 0 0 0-1.5zM22.5 12c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12zm1.5 0c0-6.627-5.373-12-12-12S0 5.373 0 12s5.373 12 12 12 12-5.373 12-12z"
                  ></path>
                </svg>

                Vos informations sont changé en toutes sécurité et en temps
                réel*.
              </span>
            </span>
          </div>

          <div class="row m10">
            <div class="col-lg-6 m10">
              <h6>
                <strong class="fs13">Prénom</strong
                ><span class="text-danger">*</span>
              </h6>

              <input
                type="text"
                class="input-formulaire"
                placeholder="Entrez votre prénom"
                required=""
                formControlName="first_name"
              />
            </div>
            <div class="col-lg-6 m10">
              <h6>
                <strong class="fs13">Nom</strong
                ><span class="text-danger">*</span>
              </h6>

              <input
                type="text"
                class="input-formulaire"
                formControlName="last_name"
                placeholder="Entrez votre nom"
              />
            </div>
            <div class="col-lg-6 m10">
              <h6>
                <strong class="fs13">Pays/région</strong
                ><span class="text-danger">*</span>
              </h6>

              <select
                class="input-formulaire"
                id="selYourCountry"
                data-dselect-search="true"
                formControlName="country"
              >
                <option value="">Sélectionnez votre pays</option>
                <option value="AF">Afghanistan (+93)</option>
                <option value="AX">Åland Islands (+358)</option>
                <option value="AL">Albania (+355)</option>
                <option value="DZ">Algeria (+213)</option>
                <option value="AS">American Samoa (+1)</option>
                <option value="AD">Andorra (+376)</option>
                <option value="AO">Angola (+244)</option>
                <option value="AI">Anguilla (+1)</option>
                <option value="AG">Antigua and Barbuda (+1)</option>
                <option value="AR">Argentina (+54)</option>
                <option value="AM">Armenia (+374)</option>
                <option value="AW">Aruba (+297)</option>
                <option value="AU">Australia (+61)</option>
                <option value="AT">Austria (+43)</option>
                <option value="AZ">Azerbaijan (+994)</option>
                <option value="BS">Bahamas (+1)</option>
                <option value="BH">Bahrain (+973)</option>
                <option value="BD">Bangladesh (+880)</option>
                <option value="BB">Barbados (+1)</option>
                <option value="BY">Belarus (+375)</option>
                <option value="BE">Belgium (+32)</option>
                <option value="BZ">Belize (+501)</option>
                <option value="BJ">Benin (+229)</option>
                <option value="BM">Bermuda (+1)</option>
                <option value="BT">Bhutan (+975)</option>
                <option value="BO">Bolivia (+591)</option>
                <option value="BQ">Bonaire (+599)</option>
                <option value="BA">Bosnia and Herzegovina (+387)</option>
                <option value="BW">Botswana (+267)</option>
                <option value="BR">Brazil (+55)</option>
                <option value="IO">
                  British Indian Ocean Territory (+246)
                </option>
                <option value="VG">British Virgin Islands (+1)</option>
                <option value="BN">Brunei (+673)</option>
                <option value="BG">Bulgaria (+359)</option>
                <option value="BF">Burkina Faso (+226)</option>
                <option value="BI">Burundi (+257)</option>
                <option value="KH">Cambodia (+855)</option>
                <option value="CM">Cameroon (+237)</option>
                <option value="CA">Canada (+1)</option>
                <option value="CV">Cape Verde (+238)</option>
                <option value="KY">Cayman Islands (+1)</option>
                <option value="CF">Central African Republic (+236)</option>
                <option value="TD">Chad (+235)</option>
                <option value="CL">Chile (+56)</option>
                <option value="CN">China (+86)</option>
                <option value="CX">Christmas Island (+61)</option>
                <option value="CC">Cocos Islands (+61)</option>
                <option value="CO">Colombia (+57)</option>
                <option value="KM">Comoros (+269)</option>
                <option value="CD">Congo-Brazzaville (+243)</option>
                <option value="CK">Cook Islands (+682)</option>
                <option value="CR">Costa Rica (+506)</option>
                <option value="CI">Côte d'Ivoire (+225)</option>
                <option value="HR">Croatia (+385)</option>
                <option value="CW">Curaçao (+599)</option>
                <option value="CY">Cyprus (+357)</option>
                <option value="CZ">Czech Republic (+420)</option>
                <option value="DK">Denmark (+45)</option>
                <option value="DJ">Djibouti (+253)</option>
                <option value="DM">Dominica (+1)</option>
                <option value="DO">Dominican Republic (+1)</option>
                <option value="EC">Ecuador (+593)</option>
                <option value="EG">Egypt (+20)</option>
                <option value="SV">El Salvador (+503)</option>
                <option value="GQ">Equatorial Guinea (+240)</option>
                <option value="ER">Eritrea (+291)</option>
                <option value="EE">Estonia (+372)</option>
                <option value="ET">Ethiopia (+251)</option>
                <option value="FK">Falkland Islands (+500)</option>
                <option value="FO">Faroe Islands (+298)</option>
                <option value="FJ">Fiji (+679)</option>
                <option value="FI">Finland (+358)</option>
                <option value="FR">France (+33)</option>
                <option value="GF">French Guiana (+594)</option>
                <option value="PF">French Polynesia (+689)</option>
                <option value="GA">Gabon (+241)</option>
                <option value="GM">Gambia (+220)</option>
                <option value="GE">Georgia (+995)</option>
                <option value="DE">Germany (+49)</option>
                <option value="GH">Ghana (+233)</option>
                <option value="GI">Gibraltar (+350)</option>
                <option value="GR">Greece (+30)</option>
                <option value="GL">Greenland (+299)</option>
                <option value="GD">Grenada (+1)</option>
                <option value="GP">Guadeloupe (+590)</option>
                <option value="GU">Guam (+1)</option>
                <option value="GT">Guatemala (+502)</option>
                <option value="GG">Guernsey (+44)</option>
                <option value="GN">Guinea (+224)</option>
                <option value="GW">Guinea-Bissau (+245)</option>
                <option value="GY">Guyana (+592)</option>
                <option value="HT">Haiti (+509)</option>
                <option value="HN">Honduras (+504)</option>
                <option value="HK">Hong Kong (+852)</option>
                <option value="HU">Hungary (+36)</option>
                <option value="IS">Iceland (+354)</option>
                <option value="IN">India (+91)</option>
                <option value="ID">Indonesia (+62)</option>
                <option value="IQ">Iraq (+964)</option>
                <option value="IE">Ireland (+353)</option>
                <option value="IM">Isle of Man (+44)</option>
                <option value="IL">Israel (+972)</option>
                <option value="IT">Italy (+39)</option>
                <option value="JM">Jamaica (+1)</option>
                <option value="JP">Japan (+81)</option>
                <option value="JE">Jersey (+44)</option>
                <option value="JO">Jordan (+962)</option>
                <option value="KZ">Kazakhstan (+7)</option>
                <option value="KE">Kenya (+254)</option>
                <option value="KI">Kiribati (+686)</option>
                <option value="XK">Kosovo (+383)</option>
                <option value="KW">Kuwait (+965)</option>
                <option value="KG">Kyrgyz Republic (+996)</option>
                <option value="LA">Laos (+856)</option>
                <option value="SS">Laos (+211)</option>
                <option value="LV">Latvia (+371)</option>
                <option value="LB">Lebanon (+961)</option>
                <option value="LS">Lesotho (+266)</option>
                <option value="LR">Liberia (+231)</option>
                <option value="LY">Libya (+218)</option>
                <option value="LI">Liechtenstein (+423)</option>
                <option value="LT">Lithuania (+370)</option>
                <option value="LU">Luxembourg (+352)</option>
                <option value="MO">Macao (+853)</option>
                <option value="MG">Madagascar (+261)</option>
                <option value="MW">Malawi (+265)</option>
                <option value="MY">Malaysia (+60)</option>
                <option value="MV">Maldives (+960)</option>
                <option value="ML">Mali (+223)</option>
                <option value="MT">Malta (+356)</option>
                <option value="MH">Marshall Islands (+692)</option>
                <option value="MQ">Martinique (+596)</option>
                <option value="MR">Mauritania (+222)</option>
                <option value="MU">Mauritius (+230)</option>
                <option value="YT">Mayotte (+262)</option>
                <option value="MX">Mexico (+52)</option>
                <option value="FM">Micronesia (+691)</option>
                <option value="MD">Moldova (+373)</option>
                <option value="MC">Monaco (+377)</option>
                <option value="MN">Mongolia (+976)</option>
                <option value="ME">Montenegro (+382)</option>
                <option value="MS">Montserrat (+1)</option>
                <option value="MA">Morocco (+212)</option>
                <option value="MZ">Mozambique (+258)</option>
                <option value="MM">Myanmar (+95)</option>
                <option value="NA">Namibia (+264)</option>
                <option value="NR">Nauru (+674)</option>
                <option value="NP">Nepal (+977)</option>
                <option value="NL">Netherlands (+31)</option>
                <option value="NC">New Caledonia (+687)</option>
                <option value="NZ">New Zealand (+64)</option>
                <option value="NI">Nicaragua (+505)</option>
                <option value="NE">Niger (+227)</option>
                <option value="NG">Nigeria (+234)</option>
                <option value="NU">Niue (+683)</option>
                <option value="NF">Norfolk Island (+672)</option>
                <option value="MK">North Macedonia (+389)</option>
                <option value="MP">Northern Mariana Islands (+1)</option>
                <option value="NO">Norway (+47)</option>
                <option value="OM">Oman (+968)</option>
                <option value="PK">Pakistan (+92)</option>
                <option value="PW">Palau (+680)</option>
                <option value="PS">Palestine (+970)</option>
                <option value="PA">Panama (+507)</option>
                <option value="PG">Papua New Guinea (+675)</option>
                <option value="PY">Paraguay (+595)</option>
                <option value="PE">Peru (+51)</option>
                <option value="PH">Philippines (+63)</option>
                <option value="PL">Poland (+48)</option>
                <option value="PT">Portugal (+351)</option>
                <option value="PR">Puerto Rico (+1)</option>
                <option value="QA">Qatar (+974)</option>
                <option value="CG">Republic of the Congo (+242)</option>
                <option value="RE">Réunion (+262)</option>
                <option value="RO">Romania (+40)</option>
                <option value="RU">Russia (+7)</option>
                <option value="RW">Rwanda (+250)</option>
                <option value="BL">Saint Barthélemy (+590)</option>
                <option value="SH">Saint Helena (+290)</option>
                <option value="KN">Saint Kitts and Nevis (+1)</option>
                <option value="LC">Saint Lucia (+1)</option>
                <option value="MF">Saint Martin (+590)</option>
                <option value="PM">Saint Pierre and Miquelon (+508)</option>
                <option value="VC">
                  Saint Vincent and the Grenadines (+1)
                </option>
                <option value="WS">Samoa (+685)</option>
                <option value="SM">San Marino (+378)</option>
                <option value="ST">São Tomé and Príncipe (+239)</option>
                <option value="SA">Saudi Arabia (+966)</option>
                <option value="SN">Senegal (+221)</option>
                <option value="RS">Serbia (+381)</option>
                <option value="SC">Seychelles (+248)</option>
                <option value="SL">Sierra Leone (+232)</option>
                <option value="SG">Singapore (+65)</option>
                <option value="SX">Sint Maarten (+1)</option>
                <option value="SK">Slovakia (+421)</option>
                <option value="SI">Slovenia (+386)</option>
                <option value="SB">Solomon Islands (+677)</option>
                <option value="SO">Somalia (+252)</option>
                <option value="ZA">South Africa (+27)</option>
                <option value="KR">South Korea (+82)</option>
                <option value="ES">Spain (+34)</option>
                <option value="LK">Sri Lanka (+94)</option>
                <option value="SD">Sudan (+249)</option>
                <option value="SR">Suriname (+597)</option>
                <option value="SJ">Svalbard and Jan Mayen (+47)</option>
                <option value="SZ">Swaziland (+268)</option>
                <option value="SE">Sweden (+46)</option>
                <option value="CH">Switzerland (+41)</option>
                <option value="TW">Taiwan (+886)</option>
                <option value="TJ">Tajikistan (+992)</option>
                <option value="TZ">Tanzania (+255)</option>
                <option value="TH">Thailand (+66)</option>
                <option value="TL">Timor-Leste (+670)</option>
                <option value="TG">Togo (+228)</option>
                <option value="TK">Tokelau (+690)</option>
                <option value="TO">Tonga (+676)</option>
                <option value="TT">Trinidad and Tobago (+1)</option>
                <option value="TN">Tunisia (+216)</option>
                <option value="TR">Turkey (+90)</option>
                <option value="TM">Turkmenistan (+993)</option>
                <option value="TC">Turks and Caicos Islands (+1)</option>
                <option value="TV">Tuvalu (+688)</option>
                <option value="UG">Uganda (+256)</option>
                <option value="UA">Ukraine (+380)</option>
                <option value="AE">United Arab Emirates (+971)</option>
                <option value="GB">United Kingdom (+44)</option>
                <option value="US">United States (+1)</option>
                <option value="UY">Uruguay (+598)</option>
                <option value="VI">US Virgin Islands (+1)</option>
                <option value="UZ">Uzbekistan (+998)</option>
                <option value="VU">Vanuatu (+678)</option>
                <option value="VE">Venezuela (+58)</option>
                <option value="VN">Vietnam (+84)</option>
                <option value="WF">Wallis and Futuna (+681)</option>
                <option value="EH">Western Sahara (+212)</option>
                <option value="YE">Yemen (+967)</option>
                <option value="ZM">Zambia (+260)</option>
                <option value="ZW">Zimbabwe (+263)</option>
              </select>
            </div>
            <div class="col-lg-6 m10">
              <h6>
                <strong class="fs13">Ville</strong
                ><span class="text-danger">*</span>
              </h6>

              <input
                type="text"
                class="input-formulaire"
                placeholder="Entrez votre ville de résidence"
                required=""
                formControlName="city"
              />
              <!-- <em class="fs13"
                >L'e-mail de confirmation sera envoyé à cette adresse
              </em> -->
            </div>
            <div class="col-lg-6 m10">
              <h6>
                <strong class="fs13"
                  >Téléphone (de préférence numéro de portable)</strong
                ><span class="text-danger">*</span>
              </h6>

              <input
                type="tel"
                class="input-formulaire"
                placeholder="Entrez votre numero de téléphone"
                required=""
                formControlName="phone"
              />
              <em class="fs13"
                >Pour que l'établissement puisse vous joindre
              </em>
            </div>

            <div class="col-lg-6 m10">
              <h6>
                <strong class="fs13">Adresse</strong
                ><span class="text-danger">*</span>
              </h6>

              <input
                type="text"
                class="input-formulaire"
                placeholder="Entrez votre adresse de résidence"
                formControlName="address"
              />
            </div>
          </div>
          <br />

          <div>
            <input type="checkbox" formControlName="newsletter" />
            <span>Souscrir à notre newsletter.</span>
          </div>
          <hr />
          <!-- <button
            class="justify-content-end"
            type="submit"
            style="padding: 7px 10px 10px 10px; border-radius: 6px"
          >
            Modifier
            <i class="fas fa-angle-right" style="margin-left: 10px"></i>
          </button> -->

          <button
            class="main-btn btn-filled text-center w-100 simple-radius"
            type="submit"
            [disabled]="updateUserSubmittingForm"
          >
            <span *ngIf="!updateUserSubmittingForm"> Modifier </span>

            <span
              *ngIf="updateUserSubmittingForm"
              class="spinner-border spinner-border-sm"
              role="status"
              aria-hidden="true"
            ></span>
          </button>
        </div>
      </div>
    </form>
  </main>

  <div style="margin: -17px">
    <div class="text-center justify-content-cente">
      <button
        class="btn btn-md fw-bold mb-4 r"
        style="margin-top: 50px; background-color: #bf0808; color: white"
        type="button"
        (click)="collapse.toggle()"
        [attr.aria-expanded]="!isCollapsed"
        aria-controls="collapseExample"
      >
        <div>Changer le mot de passe</div>
      </button>
    </div>
    <div #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
      <form
        [formGroup]="updatePasswordForm"
        (ngSubmit)="onSubmitUpdateUserPassword()"
      >
        <div class="mon-padding m10" style="background-color: white">
          <div>
            <h5 class="text-center">
              <strong>Changement de mot de passe</strong>
            </h5>
            <p class="fs14"></p>
            <br />

            <div
              class="mon-padding self-align-center align-items-center justify-content-center"
              style="
                padding-bottom: 14px;
                color: white;
                background-color: rgb(243, 109, 109);
                border-color: red;
              "
            >
              <span class="fs14">
                <span>
                  <svg
                    class="bk-icon -streamline-info_sign"
                    height="16"
                    role="presentation"
                    width="16"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                    focusable="false"
                  >
                    <path
                      d="M14.25 15.75h-.75a.75.75 0 0 1-.75-.75v-3.75a1.5 1.5 0 0 0-1.5-1.5h-.75a.75.75 0 0 0 0 1.5h.75V15a2.25 2.25 0 0 0 2.25 2.25h.75a.75.75 0 0 0 0-1.5zM11.625 6a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25.75.75 0 0 0 0 1.5.375.375 0 1 1 0-.75.375.375 0 0 1 0 .75.75.75 0 0 0 0-1.5zM22.5 12c0 5.799-4.701 10.5-10.5 10.5S1.5 17.799 1.5 12 6.201 1.5 12 1.5 22.5 6.201 22.5 12zm1.5 0c0-6.627-5.373-12-12-12S0 5.373 0 12s5.373 12 12 12 12-5.373 12-12z"
                    ></path>
                  </svg>

                  Vous êtes sur le point de modifier votre mot de pass!
                </span>
              </span>
            </div>

            <div class="row m10">
              <div class="col-lg-12 m10">
                <h6>
                  <strong class="fs13">Ancien mot de passe</strong
                  ><span class="text-danger">*</span>
                </h6>

                <input
                  type="password"
                  class="input-formulaire"
                  formControlName="current_password"
                  placeholder="Entrez l'ancien mot de passe"
                  [type]="passwordVisible ? 'text' : 'password'"
                />
              </div>
              <div class="col-lg-6 m10">
                <h6>
                  <strong class="fs13">Nouveau mot de passe</strong
                  ><span class="text-danger">*</span>
                </h6>

                <input
                  type="password"
                  class="input-formulaire"
                  placeholder="Entrer le nouveau mot de passe"
                  formControlName="new_password"
                  [type]="passwordVisible ? 'text' : 'password'"
                />
                <!-- <em class="fs13"
              >L'e-mail de confirmation sera envoyé à cette adresse
            </em> -->
              </div>
              <div class="col-lg-6 m10">
                <h6>
                  <strong class="fs13">Confirmer le mot de passe</strong
                  ><span class="text-danger">*</span>
                </h6>

                <input
                  type="password"
                  class="input-formulaire"
                  placeholder="Entrer à nouveau le mot de passe"
                  formControlName="new_password_confirmation"
                  [type]="passwordVisible ? 'text' : 'password'"
                />
                <!-- <em class="fs13">Pour que l'établissement puisse vous joindre </em> -->
              </div>
            </div>

            <div class="d-flex" style="margin-top: 10px">
              <i
                (click)="togglePasswordVisibility()"
                class="fa"
                [ngClass]="{
                  'fa-eye': passwordVisible,
                  'fa-eye-slash': !passwordVisible
                }"
                style="margin-right: 7px"
              ></i>
              <h6>Voir le mot de passe</h6>
            </div>
            <hr />

            <button
              class="main-btn btn-filled text-center w-100 simple-radius"
              type="submit"
              [disabled]="updatePasswordSubmittingForm"
            >
              <span *ngIf="!updatePasswordSubmittingForm"> Modifier </span>

              <span
                *ngIf="updatePasswordSubmittingForm"
                class="spinner-border spinner-border-sm"
                role="status"
                aria-hidden="true"
              ></span>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div></div>

  <!-- <app-back-button
    [customUrl]="'/room-details/' + roomdetails?.id"
  ></app-back-button> -->
  <app-back-button></app-back-button>

  <div
    class="snackbar-toast bg-green1-dark color-white text-center"
    style="
      margin-bottom: calc(
        100px + (env(safe-area-inset-bottom)) * 1.1
      ) !important;
      background-color: green !important;
      color: white;
      z-index: 9999;
    "
    *ngIf="showSucessSnackbar"
  >
    <i class="fa {{ responseIcon }}"></i>{{ responseMsg }}
  </div>
  <div
    class="snackbar-toast bg-green1-dark color-white text-center"
    style="
      margin-bottom: calc(
        100px + (env(safe-area-inset-bottom)) * 1.1
      ) !important;
      background-color: rgb(193, 14, 14) !important;
      color: white;
      z-index: 999;
    "
    *ngIf="showErrorSnackbar"
  >
    <i class="fa {{ responseIcon }}"></i>{{ responseMsg }}
  </div>
</ng-container>

<div
  class="d-flex text-center justify-content-center align-self-center align-items-center"
  *ngIf="!dataIsOk"
  style="height: 50vh"
>
  <div>
    <!-- <span
      class="spinner-border spinner-border-sm"
      role="status"
      aria-hidden="true"
    ></span> -->
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="32"
      height="32"
      viewBox="0 0 24 24"
    >
      <path
        fill="currentColor"
        d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z"
        opacity=".25"
      />
      <path
        fill="currentColor"
        d="M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z"
      >
        <animateTransform
          attributeName="transform"
          dur="0.75s"
          repeatCount="indefinite"
          type="rotate"
          values="0 12 12;360 12 12"
        />
      </path>
    </svg>
    <div>Chargement des données</div>
  </div>
</div>
